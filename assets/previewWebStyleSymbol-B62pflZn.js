import{ac as r,ah as c,ai as l}from"./index-YAG6QmBT.js";async function u(e,n,a){const i=e.thumbnail?.url;if(i){const h=m((await r(i,{responseType:"image"})).data,a);return a?.node?(a.node.appendChild(h),a.node):h}const t=await e.fetchSymbol({acceptedFormats:c});return t?n(t,a):null}function m(e,n){const a=!/\\.svg$/i.test(e.src)&&n?.disableUpsampling,i=Math.max(e.width,e.height);let t=n?.maxSize!=null?l(n.maxSize):120;a&&(t=Math.min(i,t));const h=typeof n?.size=="number"?n?.size:null,o=Math.min(t,h!=null?l(h):i);if(o!==i){const s=e.width!==0&&e.height!==0?e.width/e.height:1;s>=1?(e.width=o,e.height=o/s):(e.width=o*s,e.height=o)}return e}export{u as previewWebStyleSymbol};
