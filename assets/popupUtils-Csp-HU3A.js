import{et as c,eu as r}from"./index-YAG6QmBT.js";async function h(e,u=e.popupTemplate){if(u==null)return[];const d=await u.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:i}=u,{objectIdField:p,typeIdField:a,globalIdField:n,relationships:o}=e;if(d.includes("*"))return["*"];const s=i?c(e):[],l=r(e.fieldsIndex,[...d,...s]);return a&&l.push(a),l&&p&&e.fieldsIndex?.has(p)&&!l.includes(p)&&l.push(p),l&&n&&e.fieldsIndex?.has(n)&&!l.includes(n)&&l.push(n),o?.forEach(f=>{const{keyField:t}=f;l&&t&&e.fieldsIndex?.has(t)&&!l.includes(t)&&l.push(t)}),l}function m(e,u){return e&&typeof e=="object"?u?.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:u!=null&&u.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function I(e,u){return m(e,{defaultPopupTemplateEnabled:u})!=null}export{m as n,h as p,I as u};
